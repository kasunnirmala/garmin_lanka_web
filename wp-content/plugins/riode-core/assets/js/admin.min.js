"use strict";window.RC_Admin||(window.RC_Admin={}),function(e){RC_Admin.Metabox=function(){var o=function(){"video"==e(".editor-post-format select").val()?(e("#featured_video").closest(".rwmb-field").removeClass("hidden"),e('[name="supported_images"]').closest(".rwmb-field").addClass("hidden")):(e("#featured_video").closest(".rwmb-field").addClass("hidden"),e('[name="supported_images"]').closest(".rwmb-field").removeClass("hidden"))};setTimeout((function(){o(),e.fn.wpColorPicker&&e("input.riode-color-picker").wpColorPicker()}),100),e("body").on("change",".editor-post-format select",o)}}(jQuery),function(e){RC_Admin.Sidebar=function(){e("body").on("click","#sidebar_table + #add_widget_area",(function(){var o=prompt("Widget Area Name"),t="",i=-1,n=e(this),a=[];o&&(n.attr("disabled","disabled"),"-"==(t=o.toLowerCase().replace(/(\W|_)+/g,"-"))[0]&&"-"==t[t.length-1]?t=t.slice(1,-1):"-"==t[0]?t=t.slice(1):"-"==t[t.length-1]&&(t=t.slice(0,-1)),e("#sidebar_table #the-list tr").each((function(){a.push(e(this).attr("id"))})),a&&a.forEach((function(e){if(0===e.indexOf(t)){var o=e.replace(t,"");""==o?i=Math.max(i,0):Number(o.slice(1))&&(i=Math.max(i,Number(o.slice(1))))}})),i>=0&&(t=t+"-"+(i+1),o=o+" "+(i+1)),e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_add_widget_area",nonce:riode_core_vars.nonce,name:o,slug:t},type:"post",success:function(i){e('<tr id="'+t+'" class="sidebar"><td class="title column-title"><a href="'+riode_core_vars.admin_url+'widgets.php">'+o+'</a></td><td class="slug column-slug">'+t+'</td><td class="remove column-remove"><a href="#">Remove</a></td></tr>').appendTo(e("#sidebar_table tbody#the-list")).hide().fadeIn(),n.prop("disabled",!1)}}).fail((function(e){console.log(e)})))})),e("body").on("click","#sidebar_table .column-remove > a",(function(o){if(o.preventDefault(),confirm("Do you want to remove this sidebar and allocated widgets?")){var t=e(this),i=t.closest("tr").find(".column-slug").text();e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_remove_widget_area",nonce:riode_core_vars.nonce,slug:i},type:"post",success:function(o){t.closest("tr").fadeOut((function(){e(this).remove()})),t.prop("disabled",!1)}}).fail((function(e){console.log(e)}))}}))}}(jQuery),function(e){RC_Admin.TemplateWizard=function(){e("body").removeClass("hidden"),e("#wpbody-content .wrap").prependTo(e("#wpbody-content .riode-admin-panel-body.templates-builder")),e("body").on("click",".page-title-action",(function(o){e(this).closest(".riode-admin-panel-body.templates-builder").length&&(o.preventDefault(),e.magnificPopup.open({type:"inline",mainClass:"mfp-riode-template-type mfp-fade mfp-riode-admin-popup",preloader:!1,removalDelay:350,autoFocusLast:!1,showCloseBtn:!0,items:{src:"#riode_template_type_popup"},callbacks:{open:function(){e("html").css("overflow","hidden"),e("body").css("overflow-x","visible"),e(".mfp-wrap").css("overflow","hidden auto"),e("#riode-new-template-id").add("#riode-new-template-type").add("#riode-new-template-name").val(""),e(".mfp-riode-template-type .template-name").val(""),setTimeout((function(){e(".mfp-riode-template-type .template-name").focus()}),100)},close:function(){e("html").css("overflow-y",""),e("body").css("overflow-x","hidden"),e(".mfp-wrap").css("overflow","")}}}))})),e("body").on("click",".mfp-riode-template-type #riode-create-template-type",(function(o){var t=e(".mfp-riode-template-type .template-name").val();if(t){var i="gutenberg";e("#riode-elementor-studio").is(":checked")?i="elementor":e("#riode-wpbakery-studio").is(":checked")&&(i="wpbakery"),e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_save_template",nonce:riode_core_vars.nonce,type:e(".mfp-riode-template-type .template-type").val(),name:t,template_id:e("#riode-new-template-id").val(),template_type:e("#riode-new-template-type").val(),template_category:e(".riode-new-template-form .template-type").val(),page_builder:i},type:"post",success:function(o){var t=parseInt(o.data),i="post.php?post="+t+"&action=edit&post_type=riode_template";e("#riode-elementor-studio").is(":checked")?i="post.php?post="+t+"&action=elementor":e("#riode-wpbakery-studio").is(":checked")&&(i="post.php?vc_action=vc_inline&post_id="+t+"&post_type=riode_template"),window.location.href=e(".page-title-action").attr("href").replace("post-new.php?post_type=riode_template",i)}}).fail((function(e){console.log(e)}))}else e(".mfp-riode-template-type .template-name").focus()})),e("body").on("keydown",(function(o){"Enter"==o.key&&e(".mfp-riode-template-type #riode-create-template-type").length&&e(".mfp-riode-template-type #riode-create-template-type").trigger("click")})),e("body").on("click",'.editors input[type="radio"]',(function(o){"riode-gutenberg-studio"==e(this).attr("id")?(e("#riode-new-template-name").attr("style","pointer-events:none; opacity: .3; background-color: #f4f4f4;"),e("#riode-new-studio-trigger").attr("style","pointer-events:none; opacity: .3;")):(e("#riode-new-template-name").attr("style",""),e("#riode-new-studio-trigger").attr("style",""))}))}}(jQuery),function(e){RC_Admin.TemplateCondition=function(){var o='<li class="condition">'+("popup"==riode_core_vars.template_type?'<div class="condition-wrap condition-popup-on"><select><option value="load" selected>Page Load</option><option value="scroll">After Scroll</option></select></div><div class="condition-wrap condition-popup-within"><input type="number" placeholder="Delay Time (s)"></div>':"")+'<a href="#" class="btn clone_condition"><i class="fas fa-copy"></i></a><a href="#" class="btn remove_condition"><i class="fas fa-times"></i></a></li>',t=function(){e("#riode-save-display-conditions").prop("disabled",!1)},i=function(e,o){if(o.length)for(var t=0;t<o.length;t++){if(void 0!==o[t].id&&void 0!==e.id&&o[t].category==e.category&&o[t].subcategory==e.subcategory&&o[t].id.id==e.id.id)return t;if(void 0===o[t].id&&void 0===e.id&&void 0!==o[t].subcategory&&void 0!==e.subcategory&&o[t].category==e.category&&o[t].subcategory==e.subcategory)return t;if(void 0===o[t].subcategory&&void 0===e.subcategory&&void 0!==o[t].category&&void 0!==e.category&&o[t].category==e.category)return t}return-1},n=function(t){var i=e(o);return i.prepend(e(a())),t.category&&i.find(".condition-category select").val(t.category),null!=t.subcategory&&(i.find(".condition-category").after(e(a(t.category))),i.find(".condition-subcategory select").val(t.subcategory)),null!=t.id&&(i.find(".condition-subcategory").after(e(a(t.category,t.subcategory))),i.find(".ids-select-toggle").attr("data-id",t.id.id).text(t.id.title)),null!=t.popup_on&&i.find(".condition-popup-on select").val(t.popup_on),null!=t.popup_within&&i.find(".condition-popup-within input").val(t.popup_within),i},a=function(e,o){var t="",i=null!=e&&function(e){return"entire"==e?"all":"page"==e||"error"==e?"page":e.replace(/_archive$|_single$/,"")}(e);if(null==e)return t+='<div class="condition-wrap condition-category"><select>',Object.keys(riode_core_vars.condition_network).forEach((function(e,o){var i=Object.keys(riode_core_vars.condition_network[e]);t+="<optgroup label="+e.toUpperCase()+">",i.forEach((function(o,n){t+='<option value="'+i[n]+'">'+riode_core_vars.condition_network[e][o].name+"</option>"})),t+="</optgroup>"})),t+="</select></div>";if(!1===i||!Object.keys(riode_core_vars.condition_network[i][e].subcats).length)return t;if(null==o){t='<div class="condition-wrap condition-subcategory"><select>';var n=Object.keys(riode_core_vars.condition_network[i][e].subcats);return n.forEach((function(o,a){t+='<option value="'+n[a]+'">'+riode_core_vars.condition_network[i][e].subcats[o]+"</option>"})),t+="</select></div>"}if(o){var a=0;return-1!=["child_page","child_category","child_product_cat"].indexOf(o)&&(a=""),t='<div class="condition-wrap condition-ids"><div class="ids-select"><span class="ids-select-toggle" data-id="'+a+'">'+(""===a||"archive"!=function(e){return"archive"==e.slice(-7)?"archive":"single"==e.slice(-6)?"single":void 0}(e)?"Select Details":"All")+'</span><div class="dropdown-box"><input type="hidden" name="post_type" value="'+i+'"><input type="hidden" name="taxonomy" value="'+o+'"><input type="search" class="form-control" name="s" required="" autocomplete="off"><div class="live-search-list"></div></div>',t+="</div></div>"}return t},r=function(o){e.fn.devbridgeAutocomplete&&(o=void 0===o?e(".search-wrapper"):o).each((function(){var o=e(this),t=o.find(".live-search-list"),i=o.find('input[name="post_type"]').val(),n=o.find('input[name="taxonomy"]').val(),a=riode_core_vars.ajax_url+"?action=riode_template_ids_search&nonce="+riode_core_vars.nonce+(i?"&post_type="+i:"")+(n?"&taxonomy="+n:"");o.find('input[type="search"]').each((function(){e(this).siblings(".live-search-list").find(".autocomplete-suggestions").length||(e(this).on("keydown",(function(e){"Enter"==e.key&&(o.find(".ids-select-toggle").attr("data-id",0).text("All"),o.find(".dropdown-box").removeClass("show"))})),e(this).devbridgeAutocomplete({minChars:3,appendTo:t,triggerSelectOnValidInput:!1,serviceUrl:a,onSearchStart:function(e){},onSelect:function(e){-1!=e.id&&o.find(".ids-select-toggle").attr("data-id",e.id).text(e.title).trigger("click")},onSearchComplete:function(e,o){o.length||t.children().eq(0).hide()},beforeRender:function(o){e(o).removeAttr("style")},formatResult:function(e,o){return'<span class="ids-result" data-id="'+e.id+'">'+e.title+"</span>"}}))}))}))},s=function(){null!=riode_core_vars.template_conditions&&0!=riode_core_vars.template_conditions.length||e("#riode-template-display-condition").trigger("click")};e("body").on("click","#riode-template-display-condition, .riode-admin-panel .layout-box .layout-action-condition",(function(o){if(o.preventDefault(),"layout"==riode_core_vars.template_type||riode_core_vars.template_conditions.length&&!e("#riode_template_conditions_popup .conditions").attr("data-template-type")){var t=e("#riode_template_conditions_popup .conditions");t.html(""),"layout"==riode_core_vars.template_type&&(riode_core_vars.post_id=e(this).closest(".layout-box").attr("id"),riode_core_vars.template_conditions=riode_core_vars.page_layouts[riode_core_vars.post_id].condition),t.attr("data-template-type",riode_core_vars.template_type),t.attr("data-template-id",riode_core_vars.post_id),riode_core_vars.template_conditions.length&&riode_core_vars.template_conditions.forEach((function(e){t.append(n(e))}))}e.magnificPopup.open({type:"inline",mainClass:"mfp-riode-template-type mfp-fade mfp-riode-admin-popup",preloader:!1,removalDelay:350,autoFocusLast:!1,showCloseBtn:!0,items:{src:"#riode_template_conditions_popup"},callbacks:{open:function(){e("html").css("overflow","hidden"),e("body").css("overflow-x","visible"),e(".mfp-wrap").css("overflow","hidden auto"),e("#riode_template_conditions_popup").css("display",""),r(e("#riode_template_conditions_popup .ids-select"))},close:function(){e("html").css("overflow-y",""),e("body").css("overflow-x","hidden"),e(".mfp-wrap").css("overflow","")}}})})).on("click","#riode_template_conditions_popup .remove_condition",(function(o){o.preventDefault();var i=e(this).closest(".condition");i.next(".error").remove(),i.remove(),t()})).on("click","#riode_template_conditions_popup .clone_condition",(function(o){o.preventDefault();var i=e(this).closest(".condition"),n=i.clone();n.find("select").each((function(){e(this).val(i.find("."+e(this).closest(".condition-wrap").attr("class").replace(" ",".")+" select").val())})),i.next().hasClass("error")?i.next().after(n):i.after(n),n.find(".live-search-list .autocomplete-suggestions").remove(),r(n.find(".ids-select")),t()})).on("click","#riode-add-display-condition",(function(i){e(o).prepend(e(a())).appendTo(e(this).siblings(".conditions")),t()})).on("change","#riode_template_conditions_popup .condition-category select",(function(){var o=a(e(this).val()),i=e(this).closest(".condition");i.find(".condition-ids").remove(),o?i.find(".condition-subcategory").length?i.find(".condition-subcategory").replaceWith(e(o)):i.find(".condition-category").after(e(o)):i.find(".condition-subcategory, .condition-ids").remove(),t()})).on("change","#riode_template_conditions_popup .condition-subcategory select",(function(){var o=e(this).closest(".condition"),i=a(o.find(".condition-category select").val(),e(this).val());i?(o.find(".condition-ids").length?o.find(".condition-ids").replaceWith(e(i)):o.find(".condition-subcategory").after(e(i)),r(o.find(".ids-select"))):o.find(".condition-ids").remove(),t()})).on("change","#riode_template_conditions_popup .condition-popup-on select",t).on("change","#riode_template_conditions_popup .condition-popup-within input",t).on("click","#riode-save-display-conditions",(function(){var o=[],t=e(this),n=e("#riode_template_conditions_popup");n.find(".condition").each((function(){var t=e(this),i={};t.removeClass("duplicated"),t.next(".error").remove(),i.category=e(this).find(".condition-category select").val(),e(this).find(".condition-subcategory").length&&(i.subcategory=e(this).find(".condition-subcategory select").val(),e(this).find(".condition-ids").length&&(i.id={id:e(this).find(".ids-select-toggle").attr("data-id"),title:e(this).find(".ids-select-toggle").text()})),e(this).find(".condition-popup-on").length&&(i.popup_on=e(this).find(".condition-popup-on select").val()),e(this).find(".condition-popup-within").length&&(i.popup_within=e(this).find(".condition-popup-within input").val()),o.push(i)}));var a,r=[];"layout"==riode_core_vars.template_type?(a=Object.keys(riode_core_vars.page_layouts)).forEach((function(e,t){if(e!=riode_core_vars.post_id){var n=riode_core_vars.page_layouts[e].condition;n.length&&n.forEach((function(t,n){var a=i(t,o);-1!=a&&r.push({idx:a,origin_slug:e,origin_idx:n,origin_name:riode_core_vars.page_layouts[e].name,edit_link:""})}))}})):(a=Object.keys(riode_core_vars.templates)).length&&a.forEach((function(e,t){e!=riode_core_vars.post_id&&riode_core_vars.templates[e].conditions.length&&riode_core_vars.templates[e].conditions.forEach((function(t,n){var a=i(t,o);-1!=a&&r.push({idx:a,origin_slug:e,origin_idx:n,origin_name:riode_core_vars.templates[e].name,edit_link:riode_core_vars.templates[e].edit_link})}))}));if(r.length){var s=riode_core_vars.texts.condition_override,d="";if(r.forEach((function(e){n.find(".condition:nth-child("+(e.idx+1)+")");d+=riode_core_vars.texts.condition_duplicated_template.replace("%index%",e.idx+1).replace("%name%",e.origin_name)+"\n"})),!confirm(s.replace("%list%","\n\n"+d+"\n")))return void r.forEach((function(e){var o=n.find(".condition:nth-child("+(e.idx+1)+")"),t='<p class="error">'+riode_core_vars.texts.condition_duplicated+(e.edit_link?'<a href="'+e.edit_link+'" target="__blank">':"<span>")+e.origin_name+(e.edit_link?"</a>":"</span>")+"</p>";o.addClass("duplicated"),o.after(t)}))}e.ajax({url:riode_core_vars.ajax_url,type:"post",dataType:"json",data:{action:"riode_save_conditions",nonce:riode_core_vars.nonce,conditions:o,post_id:riode_core_vars.post_id,duplications:r,template_type:riode_core_vars.template_type},success:function(i){if("success"==i.result){if(t.attr("disabled","disabled"),riode_core_vars.template_conditions=o,"layout"==riode_core_vars.template_type?riode_core_vars.page_layouts=i.page_layouts:riode_core_vars.templates=i.templates,"layout"==riode_core_vars.template_type){var n="layout-box";o.forEach((function(e){null!=e.category&&(n+=" "+e.category,null!=e.subcategory&&(e.subcategory?n+=" "+e.category+"-"+e.subcategory:n+=" "+e.category+"-all"))})),e("#"+riode_core_vars.post_id).attr("class",n),e("body").trigger("condition_updated")}e.magnificPopup.close()}else alert(riode_core_vars.texts.condition_warning)},failure:function(){alert(riode_core_vars.texts.condition_warning)}})})),e("body").on("click","#riode_template_conditions_popup .ids-select-toggle",(function(){var o=e(this).siblings(".dropdown-box");o.toggleClass("show"),o.hasClass("show")&&o.children(".form-control").focus(),t()})).on("click","#riode_template_conditions_popup",(function(o){e(this).find(".ids-select .dropdown-box").removeClass("show")})).on("click","#riode_template_conditions_popup .ids-select",(function(e){e.stopPropagation()})),e("body").on("click","#elementor-panel-saver-button-publish",s),e(".vc_inline-shortcode-edit-form .vc_navbar-nav .vc_btn-save").on("click",s)}}(jQuery),function(e){RC_Admin.BuilderAddons=function(){e(document.body).hasClass("elementor-editor-active")&&"undefined"!=typeof elementor&&(elementor.on("panel:init",(function(){var o='<div id="riode-elementor-addons" class="elementor-panel-footer-tool tooltip-target"><span class="riode-elementor-addons-toggle" data-tooltip="'+riode_core_vars.texts.elementor_addon_settings+'"><i class="riode-mini-logo"></i></span><div class="dropdown-box"><ul class="options">';riode_core_vars.builder_addons.length&&riode_core_vars.builder_addons.forEach((function(e){e.elementor&&(o+=e.elementor)})),e(o+="</ul></div></div>").insertAfter("#elementor-panel-footer-saver-preview").find(".riode-elementor-addons-toggle").tipsy({gravity:"s",title:function(){return this.getAttribute("data-tooltip")}})})),elementor.on("document:loaded",(function(){e("body").on("click",".riode-elementor-addons-toggle",(function(o){e(this).siblings(".dropdown-box").toggleClass("show")})).on("click",(function(o){e("#riode-elementor-addons .dropdown-box").removeClass("show")})).on("click","#riode-elementor-addons",(function(e){e.stopPropagation()})).on("click","#riode-custom-css-js",(function(o){e("#elementor-panel-footer-settings").click(),e(".elementor-tab-control-advanced a").click()})).on("click","#riode-edit-area",(function(o){e("#elementor-panel-footer-settings").click(),e(".elementor-control-riode_edit_area .elementor-section-toggle").click()})).on("click","#riode-popup-options",(function(o){e("#elementor-panel-footer-settings").click(),e(".elementor-control-riode_popup_settings .elementor-section-toggle").click()}))}))),function(){if(e(document.body).hasClass("vc_editor vc_inline-shortcode-edit-form")||e("#post-body #wpb_visual_composer").length){riode_core_vars.wpb_preview_panels&&Object.keys(riode_core_vars.wpb_preview_panels).forEach((function(o){e("#vc_ui-panel-row-layout").before(e(riode_core_vars.wpb_preview_panels[o]))})),e(".riode-wpb-addons #riode-popup-options").length&&(vc.RiodePopupOptionsUIPanelEditor=vc.PostSettingsPanelView.vcExtendUI(vc.HelperPanelViewHeaderFooter).vcExtendUI(vc.HelperPanelViewResizable).vcExtendUI(vc.HelperPanelViewDraggable).vcExtendUI({panelName:"riode_popup_options",uiEvents:{setSize:"setEditorSize",show:"setEditorSize"},setSize:function(){this.trigger("setSize")},setDefaultHeightSettings:function(){this.$el.css("height","70vh")},setEditorSize:function(){this.editor.setSizeResizable()}}),vc.riode_popup_options_view=new vc.RiodePopupOptionsUIPanelEditor({el:"#vc_ui-panel-riode-popup-options"}),window.vc.ShortcodesBuilder&&(window.vc.ShortcodesBuilder.prototype.save=function(o){var t=this.getContent(),i={action:"vc_save"};i.vc_post_custom_css=window.vc.$custom_css.val(),i.content=this.wpautop(t),o&&(i.post_status=o,e(".vc_button_save_draft").hide(100),e("#vc_button-update").text(window.i18nLocale.update_all)),window.vc.update_title&&(i.post_title=this.getTitle());var n=e("#vc_ui-panel-riode-popup-options"),a=n.find("#vc_popup-width-field").val(),r=n.find("#vc_popup-transform-field").val(),s=n.find("#vc_popup-position-top-field").val(),d=n.find("#vc_popup-position-right-field").val(),c=n.find("#vc_popup-position-bottom-field").val(),l=n.find("#vc_popup-position-left-field").val(),p=n.find("#vc_popup-animation-field").val(),u=n.find("#vc_popup-anim-duration-field").val(),_=n.find("#vc_popup-aclass-field").val();i.riode_popup_options={width:a||600,top:s||"auto",right:d||"auto",bottom:c||"auto",left:l||"auto",transform:r||"t-mc",animation:p,anim_duration:u||400,wrapper_class:_||""},this.ajax(i).done((function(){window.vc.unsetDataChanged(),window.vc.showMessage(window.i18nLocale.vc_successfully_updated||"Successfully updated!")}))}),e("body").on("click",".riode-wpb-addons #riode-popup-options",(function(e){e&&e.preventDefault&&e.preventDefault(),vc.riode_popup_options_view.render().show()})).on("click",'#vc_ui-panel-riode-popup-options .vc_ui-button[data-vc-ui-element="button-save"]',(function(){if(vc.$frame_body){var o=e(this).closest(".vc_ui-riode-panel"),t=o.find("#vc_popup-width-field").val(),i=o.find("#vc_popup-transform-field").val(),n=o.find("#vc_popup-position-top-field").val(),a=o.find("#vc_popup-position-right-field").val(),r=o.find("#vc_popup-position-bottom-field").val(),s=o.find("#vc_popup-position-left-field").val();vc.$frame_body.find("#main > .popup-container").removeClass("t-none t-mc t-c t-m").addClass(i),vc.$frame_body.find("#main > .popup-container").css({maxWidth:t?String(t)+"px":"600px",top:n||"auto",right:a||"auto",bottom:r||"auto",left:s||"auto"})}else vc.riode_popup_options_view.hide()}))),e(".riode-wpb-addons #riode-edit-area").length&&(vc.RiodeEditAreaSizeUIPanelEditor=vc.PostSettingsPanelView.vcExtendUI(vc.HelperPanelViewHeaderFooter).vcExtendUI(vc.HelperPanelViewResizable).vcExtendUI(vc.HelperPanelViewDraggable).vcExtendUI({panelName:"riode_edit_area_size",uiEvents:{setSize:"setEditorSize",show:"setEditorSize"},setSize:function(){this.trigger("setSize")},setDefaultHeightSettings:function(){this.$el.css("height","70vh")},setEditorSize:function(){this.editor.setSizeResizable()}}),vc.riode_edit_area_size_view=new vc.RiodeEditAreaSizeUIPanelEditor({el:"#vc_ui-panel-riode-edit-area-size"}),window.vc.ShortcodesBuilder&&(window.vc.ShortcodesBuilder.prototype.save=function(o){var t=this.getContent(),i={action:"vc_save"};i.vc_post_custom_css=window.vc.$custom_css.val(),i.content=this.wpautop(t),o&&(i.post_status=o,e(".vc_button_save_draft").hide(100),e("#vc_button-update").text(window.i18nLocale.update_all)),window.vc.update_title&&(i.post_title=this.getTitle());var n=e("#vc_ui-panel-riode-edit-area-size").find("#vc_edit-area-width-field").val();i.riode_edit_area_width=n,this.ajax(i).done((function(){window.vc.unsetDataChanged(),window.vc.showMessage(window.i18nLocale.vc_successfully_updated||"Successfully updated!")}))}),e("body").on("click",".riode-wpb-addons #riode-edit-area",(function(e){e&&e.preventDefault&&e.preventDefault(),vc.riode_edit_area_size_view.render().show()})).on("click",'#vc_ui-panel-riode-edit-area-size .vc_ui-button[data-vc-ui-element="button-save"]',(function(){if(vc.$frame_body){var o=e(this).closest(".vc_ui-riode-panel").find("#vc_edit-area-width-field").val();vc.$frame_body.find("#vc_no-content-helper").parent().css({maxWidth:o==Number(o)?String(o)+"px":o})}else vc.riode_edit_area_size_view.hide()})),e(window).on("vc_build",(function(){var o=e("#vc_ui-panel-riode-edit-area-size #vc_edit-area-width-field").val();vc.$frame_body.find("#vc_no-content-helper").parent().css({maxWidth:o==Number(o)?String(o)+"px":o})})))}}()}}(jQuery),function(e){RC_Admin.PageLayouts=function(){var o=function(){e(".page-layouts").append('<div class="loading-overlay"><div class="loading-icon"></div></div>')},t=function(){e(".page-layouts").children(".loading-overlay").remove()},i=function(o,t){if(void 0===t&&(t=e(this).closest(".part-options")),e(this).length){var i=e(this),a=e(this).closest(".layout-box").attr("id"),r=e(this).closest(".part-options").attr("data-part"),s=(t=e(this).closest(".part-options"),{});e(this).closest(".part-options").find(".option").each((function(){var o=e(this).find("[id]");s[o.attr("id")]=n(o.attr("id"),t)})),i.closest(".layout-box").find(".layout-header").append('<span class="status">'+riode_core_vars.layout_labels.saving_status+"</span>"),e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_save_option",nonce:riode_core_vars.nonce,layout_id:a,part_id:r,option:s},type:"post",success:function(e){riode_core_vars.page_layouts[a].content[r]=s,"general"==t.attr("data-part")||s.id||"ptb"==r&&(s.title||s.subtitle)?t.siblings(".riode_layout").find(".layout-part."+r).addClass("set"):t.siblings(".riode_layout").find(".layout-part."+r).removeClass("set"),function(e){e.find(".layout-header > span").remove()}(i.closest(".layout-box"))}}).fail((function(e){console.log(e)}))}t.find("[data-condition]").each((function(){var o=e(this),i=JSON.parse(e(this).attr("data-condition")),a=!0;Object.keys(i).forEach((function(e){var o=n(e,t);a="any"==i[e]?a&&""!=o&&"-1"!=o:a&&i[e]==o})),a?o.removeClass("hidden"):o.addClass("hidden")}))},n=function(e,o){var t=o.find("#"+e);return t.is("select")?t.val():"checkbox"==t.attr("type")?t.prop("checked"):t.val()},a=function(e,o,t){var i=o.find("#"+e);i.is("select")&&i.val(t),"checkbox"==i.attr("type")&&i.prop("checked","true"==t||1==t),i.val(t)},r=function(){e(".page-layout-filter").each((function(){var o=e(this),t=o.children("a").eq(0).attr("href"),i=e("."+t).length,n=o.find(".count");"entire"==t&&(i=e(".layout-box").length-1),i>0&&(n.length>0?n.html(i):o.append('<span class="count" style="display: none;">'+i+"</span>"),o.children(".count").fadeIn(300))}))};e("body").on("click",".riode-layout-popup .button-close",(function(){e.magnificPopup.close()})).on("change",".layout-box .riode-layout-name",(function(o){var t=e(this);t.val()?t.attr("value",t.val()):t.val(riode_core_vars.layout_labels.default_layout_name).attr("value",riode_core_vars.layout_labels.default_layout_name),e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_change_layout_name",nonce:riode_core_vars.nonce,slug:t.closest(".layout-box").attr("id"),name:t.val()},type:"post",success:function(e){riode_core_vars.page_layouts[t.closest(".layout-box").attr("id")].name=t.val()}}).fail((function(e){console.log(e)}))})).on("click",".layout-box .layout-action-clone",(function(i){i.preventDefault();var n=e(this).closest(".layout-box");o(),e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_clone_layout",nonce:riode_core_vars.nonce,slug:n.attr("id")},type:"post",success:function(o){var i=n.clone(),a=n.attr("id"),s=n.find(".riode-layout-name").val();i.attr("class","layout-box"),"global-layout"==a&&(i.find(".layout-action-clone").after(e('<a href="#" class="layout-action layout-action-remove"><i class="far fa-trash-alt"></i></a>')).after(e('<a href="#" class="layout-action layout-action-condition"><i class="fas fa-cog"></i></a>')),i.find(".riode-layout-name").removeAttr("readonly")),i.attr("id","layout-"+riode_core_vars.layout_counter++),i.find(".riode-layout-name").attr("value",s+"-1").val(s+"-1"),n.after(i),riode_core_vars.page_layouts=o.data,r(),t()}}).fail((function(e){console.log(e)}))})).on("click",".empty-layout .add-new-layout",(function(i){i.preventDefault(),o(),e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_add_layout",nonce:riode_core_vars.nonce},type:"post",success:function(o){e(".empty-layout").before(e(o.data)),riode_core_vars.page_layouts["layout-"+riode_core_vars.layout_counter]={name:riode_core_vars.layout_labels.default_layout_name,content:{},condition:{}},riode_core_vars.layout_counter++,t()}}).fail((function(e){console.log(e)}))})).on("click",".layout-box .layout-action-remove",(function(o){var t;o.preventDefault(),e(this).hasClass("layout-action-remove")?t=e(e("#riode_layout_remove_form").html()):e(this).hasClass("layout-action-remove")&&(t=e(e("#riode_layout_clone_form").html())),t.attr("data-id",e(this).closest(".layout-box").attr("id")),e.magnificPopup.open({type:"inline",mainClass:"mfp-fade mfp-riode-layout mfp-riode-admin-popup",preloader:!1,removalDelay:350,autoFocusLast:!1,showCloseBtn:!0,items:{src:t[0]},callbacks:{open:function(){e("html").css("overflow","hidden"),e("body").css("overflow-x","visible"),e(".mfp-wrap").css("overflow","hidden auto")},close:function(){e("html").css("overflow-y",""),e("body").css("overflow-x","hidden"),e(".mfp-wrap").css("overflow","")}}})})).on("click",".riode-layout-popup .button-remove-layout",(function(){var i=e(this).closest(".riode-layout-popup").attr("data-id");o(),e.ajax({url:riode_core_vars.ajax_url,data:{action:"riode_remove_layout",nonce:riode_core_vars.nonce,slug:i},type:"post",success:function(o){e("#"+i).remove(),e.magnificPopup.close(),riode_core_vars.page_layouts=o.data,r(),t()}}).fail((function(e){console.log(e)}))})).on("click",".layout-box .layout-part",(function(){if(!e(this).hasClass("main-content")){var o=e(e("#riode_layout_"+e(this).attr("data-part")+"_options_html").html()),t=e(this).closest(".layout-box").attr("id"),n=e(this).attr("data-part");"global-layout"==t&&"general"==n&&o.find('#wrap [value=""]').remove(),"global-layout"==t&&"general"==n&&o.find('#reading_progress [value=""]').remove(),o.appendTo(e(this).closest(".layout-box").find(".part-options")),e(this).closest(".layout-box").find(".part-options").attr("data-part",n),"object"==typeof riode_core_vars.page_layouts[t].content[n]&&Object.keys(riode_core_vars.page_layouts[t].content[n]).forEach((function(e){a(e,o,riode_core_vars.page_layouts[t].content[n][e])})),i(null,e(this).closest(".layout-box").find(".part-options")),e(this).closest(".layout-box").addClass("open-options")}})).on("click",".layout-box .layout-header .back",(function(o){o.preventDefault(),e(this).closest(".layout-box").hasClass("open-options")&&(e(this).closest(".layout-box").find(".part-options").attr("data-part","").html(""),e(this).closest(".layout-box").find(".layout-header .status").remove(),e(this).closest(".layout-box").removeClass("open-options"))})).on("click",".option .tooltip-trigger",(function(){e(this).closest(".option").siblings().find(".tooltip-content").addClass("hidden"),e(this).siblings(".tooltip-content").toggleClass("hidden")})).on("change",".option select, .option input",i).on("click",".page-layout-filter > a",(function(o){o.preventDefault();var t=e(this),i=t.attr("href"),n=t.closest(".riode-admin-panel-row").find(".page-layouts"),a=t.closest(".riode-admin-panel-row").find(".page-layout-filter"),r=n.children();a.removeClass("active"),t.parent().addClass("active"),"entire"==i?(r.css("display","none"),r.fadeIn(),r.css("display","")):(r.css("display","none"),n.find("."+i).add("#global-layout").add(".empty-layout").add(".entire").fadeIn().css("display",""))})).on("click",".page-layout-filter .toggle",(function(o){o.preventDefault();var t=e(this),i=t.closest(".page-layout-filter").find(".children");i.hasClass("sliding")||(i.addClass("sliding"),t.toggleClass("active"),i.slideToggle(400,(function(){i.removeClass("sliding")})))})).on("condition_updated",r),r()}}(jQuery),jQuery(document).ready((function(e){RC_Admin.Metabox(),void 0!==riode_core_vars.sidebars&&RC_Admin.Sidebar(),e("body").hasClass("post-type-riode_template")&&RC_Admin.TemplateWizard(),void 0!==riode_core_vars.condition_network&&RC_Admin.TemplateCondition(),void 0!==riode_core_vars.builder_addons&&RC_Admin.BuilderAddons(),e("body").hasClass("riode_page_riode_layout_dashboard")&&RC_Admin.PageLayouts()}));