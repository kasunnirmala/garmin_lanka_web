jQuery(document).ready((function(e){"use strict";var o={init:function(){o.initCustomCSS(),o.initCustomJS(),o.initEditAreaWidth(),o.initPopupOptions(),elementor.on("panel:init",(function(){elementor.panel.currentView.on("set:page",o.panelChange),elementor.channels.editor.on("section:activated",o.removeControls)}));var e=document.getElementById("tmpl-elementor-add-section");e&&(e.textContent=e.textContent.replace('<div class="elementor-add-section-area-button elementor-add-template-button','<div class="elementor-add-section-area-button elementor-studio-section-button" onclick="window.parent.runStudio(this);" title="Riode Studio"><i class="riode-mini-logo"></i><i class="eicon-insert"></i></div><div class="elementor-add-section-area-button elementor-add-template-button'))},initCustomCSS:function(){var o=elementor.settings.page.model.get("page_css");setTimeout((function(){void 0!==o&&elementorFrontend.hooks.doAction("refresh_page_css",o)}),1e3),e(document.body).on("input",'textarea[data-setting="page_css"]',(function(o){e(this).closest(".elementor-control").siblings(".elementor-control-_riode_custom_css").length&&(elementor.settings.page.model.set("page_css",e(this).val()),e("#elementor-panel-saver-button-publish").removeClass("elementor-disabled"),e("#elementor-panel-saver-button-save-options").removeClass("elementor-disabled")),elementorFrontend.hooks.doAction("refresh_page_css",e(this).val())}))},initCustomJS:function(){elementor.settings.page.model.get("page_js");e(document.body).on("input",'textarea[data-setting="page_js"]',(function(o){e(this).closest(".elementor-control").siblings(".elementor-control-_riode_custom_js").length&&(elementor.settings.page.model.set("page_js",e(this).val()),e("#elementor-panel-saver-button-publish").removeClass("elementor-disabled"),e("#elementor-panel-saver-button-save-options").removeClass("elementor-disabled"))}))},initEditAreaWidth:function(){var t=elementor.settings.page.model.get("riode_edit_area_width"),n=function(t){var n=e(this);"mousemove"!=t.type&&"click"!=t.type||(n=n.closest(".elementor-control-input-wrapper").find(".elementor-slider-input input"));var i={size:n.val(),unit:n.closest(".elementor-control-input-wrapper").siblings(".elementor-units-choices").find("input:checked").val()};elementorFrontend.hooks.doAction("refresh_edit_area",o.getValUnit(i))};setTimeout((function(){void 0!==t&&elementorFrontend.hooks.doAction("refresh_edit_area",o.getValUnit(t))}),1e3),e(document.body).on("input",'.elementor-control-riode_edit_area_width input[data-setting="size"]',n).on("mousemove",".elementor-control-riode_edit_area_width .noUi-active",n).on("click",".elementor-control-riode_edit_area_width .noUi-target",n)},initPopupOptions:function(){var t=elementor.settings.page.model.get("popup_width"),n=elementor.settings.page.model.get("popup_pos_origin"),i=o.getValUnit(elementor.settings.page.model.get("popup_pos_left"),"auto"),r=o.getValUnit(elementor.settings.page.model.get("popup_pos_top"),"auto"),s=o.getValUnit(elementor.settings.page.model.get("popup_pos_right"),"auto"),l=o.getValUnit(elementor.settings.page.model.get("popup_pos_bottom"),"auto"),p=function(o){var t=e(this);"mousemove"!=o.type&&"click"!=o.type||(t=t.closest(".elementor-control-input-wrapper").find(".elementor-slider-input input"));var n=t.val(),i=t.closest(".elementor-control-input-wrapper").siblings(".elementor-units-choices").find("input:checked").val(),r=t.closest(".elementor-control").attr("class").split(" ")[1].replace("elementor-control-","");elementorFrontend.hooks.doAction("refresh_popup_options",r,""!=n?n+i:"auto")};setTimeout((function(){void 0!==t&&elementorFrontend.hooks.doAction("refresh_popup_options","popup_width",t),void 0!==n&&elementorFrontend.hooks.doAction("refresh_popup_options","popup_pos_origin",n),void 0!==i&&elementorFrontend.hooks.doAction("refresh_popup_options","popup_pos_left",i),void 0!==r&&elementorFrontend.hooks.doAction("refresh_popup_options","popup_pos_top",r),void 0!==s&&elementorFrontend.hooks.doAction("refresh_popup_options","popup_pos_right",s),void 0!==l&&elementorFrontend.hooks.doAction("refresh_popup_options","popup_pos_bottom",l)}),1e3),e(document.body).on("input",'input[data-setting="popup_width"]',(function(o){elementorFrontend.hooks.doAction("refresh_popup_options","popup_width",e(this).val())})).on("input",".elementor-control-popup_pos_origin input",(function(o){elementorFrontend.hooks.doAction("refresh_popup_options","popup_pos_origin",e(this).val())})).on("input",'.elementor-control-popup_pos_left input[data-setting="size"], .elementor-control-popup_pos_top input[data-setting="size"], .elementor-control-popup_pos_right input[data-setting="size"], .elementor-control-popup_pos_bottom input[data-setting="size"]',p).on("mousemove",".elementor-control-popup_pos_left .noUi-active, .elementor-control-popup_pos_top .noUi-active, .elementor-control-popup_pos_right .noUi-active, .elementor-control-popup_pos_bottom .noUi-active",p).on("click",".elementor-control-popup_pos_left .noUi-target, .elementor-control-popup_pos_top .noUi-target, .elementor-control-popup_pos_right .noUi-target, .elementor-control-popup_pos_bottom .noUi-target",p)},getValUnit:function(e,o){return e?e.size?e.size+(e.unit?e.unit:"px"):"":void 0===o?"":o},panelChange:function(o){if("_riode_section_custom_css"==o.activeSection||"_riode_section_custom_js"==o.activeSection){var t=o.activeSection.replaceAll("_section",""),n=t.replaceAll("_riode_custom","page");if(e(".elementor-control-"+n).length)return;var i=e(".elementor-control-"+t).clone().removeClass("elementor-control-"+t).addClass("elementor-control-"+n);i.insertAfter(e(".elementor-control-"+t)),i.find("textarea").attr("data-setting",n).val(elementor.settings.page.model.get(n)),"page_css"==n?e(".elementor-control-page_js").remove():e(".elementor-control-page_css").remove()}else"riode_custom_css_settings"==o.activeSection?e(".elementor-control-page_css").val(elementor.settings.page.model.get("page_css")):"riode_custom_js_settings"==o.activeSection&&e(".elementor-control-page_js").val(elementor.settings.page.model.get("page_js"))},removeControls:function(o){if("_riode_section_custom_css"!=o&&"_riode_section_custom_js"!=o)e(".elementor-control-page_css, .elementor-control-page_js").remove();else{var t=o.replaceAll("_section",""),n=t.replaceAll("_riode_custom","page"),i=e(".elementor-control-"+t).clone().removeClass("elementor-control-"+t).addClass("elementor-control-"+n);i.insertAfter(e(".elementor-control-"+t)),i.find("textarea").attr("data-setting",n).val(elementor.settings.page.model.get(n)),"page_css"==n?e(".elementor-control-page_js").remove():e(".elementor-control-page_css").remove()}}};elementor.on("frontend:init",o.init.bind(o))}));